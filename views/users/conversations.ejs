<%- include('../partials/header.ejs') %>

<div class="container">
  <h1>Start a conversation</h1>

  <form action="/users/conversation/<%= conversations.id %>" method="POST">
    <div class="form-group">
      <label for="prompt">Start of conversation:</label>
      <input type="text" class="form-control" id="prompt" name="prompt" required>
    </div>
    <div class="form-group">
    <button type="submit" class="btn btn-primary">Generate</button>
  </form>

  <h1>Conversations</h1>

  <% conversations.forEach(c => { %>
    <div class="card">
      <div class="card-body">
        <h3 class="card-title" style="color: black;">
          <%= c.prompt %>
          <% if (c.is_favorite) { %>
            <span class="text-warning">&#9733;</span>
          <% } %>
        </h3>
        <p class="card-text"><a href="/users/conversation/<%= c.id %>">View conversation</a></p>
        <form action="/users/conversation/<%= c.id %>?_method=DELETE" method="POST">
          <input type="hidden" name="_method" value="DELETE">
          <button type="submit" class="btn btn-danger">Delete</button>
        </form>
      </div>
    </div>
  <% }) %>
</div>

<%- include('../partials/footer.ejs') %>